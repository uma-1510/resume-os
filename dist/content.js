(()=>{function i(){let t={title:d(),company:u(),location:m(),description:b(),source:"linkedin",url:window.location.href};return!t.title||!t.description?null:t}function d(){let t=[".job-details-jobs-unified-top-card__job-title h1",".top-card-layout__title",".jobs-unified-top-card__job-title h1","h1.jobs-unified-top-card__job-title","[data-test-job-title]",".job-title","h1"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim())return e.textContent.trim()}return null}function u(){let t=[".job-details-jobs-unified-top-card__company-name a",".job-details-jobs-unified-top-card__company-name",".top-card-layout__card .topcard__org-name-link",".jobs-unified-top-card__company-name a",".jobs-unified-top-card__company-name","[data-test-company-name]"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim())return e.textContent.trim()}return""}function m(){let t=[".job-details-jobs-unified-top-card__bullet",".jobs-unified-top-card__bullet",".topcard__flavor--bullet","[data-test-job-location]"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim())return e.textContent.trim()}return""}function b(){let t=[".jobs-description__content .jobs-box__html-content",".jobs-description-content__text","#job-details",".jobs-description__container","[data-test-job-description]",".description__text"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim().length>100)return e.textContent.trim()}return null}function c(){let t={title:f(),company:p(),location:x(),description:j(),source:"indeed",url:window.location.href};return!t.title||!t.description?null:t}function f(){let t=['[data-testid="jobsearch-JobInfoHeader-title"] span','[data-testid="jobsearch-JobInfoHeader-title"]',".jobsearch-JobInfoHeader-title",".icl-u-xs-mb--xs.icl-u-xs-mt--none","h1.jobsearch-JobInfoHeader-title","h1"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim())return e.textContent.trim()}return null}function p(){let t=['[data-testid="inlineHeader-companyName"] a','[data-testid="inlineHeader-companyName"]',"[data-company-name]",".jobsearch-InlineCompanyRating-companyHeader a",".icl-u-lg-mr--sm.icl-u-xs-mr--xs"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim())return e.textContent.trim()}return""}function x(){let t=['[data-testid="job-location"]','[data-testid="inlineHeader-companyLocation"]',".jobsearch-JobInfoHeader-subtitle > div:last-child"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim())return e.textContent.trim()}return""}function j(){let t=["#jobDescriptionText",'[id^="jobDescriptionText"]',".jobsearch-jobDescriptionText",'[data-testid="jobDescriptionText"]',".jobsearch-JobComponent-description"];for(let o of t){let e=document.querySelector(o);if(e?.textContent?.trim().length>100)return e.textContent.trim()}return null}var _=800,s=null,a=null,n=null;function y(){let t=window.location.hostname;return t.includes("linkedin.com")?i:t.includes("indeed.com")?c:null}function l(){let t=y();if(!t)return;let o=window.location.href;if(o===a)return;let e=t();e&&(a=o,chrome.runtime.sendMessage({action:"JOB_DETECTED",data:e}),C(e))}var h=new MutationObserver(()=>{clearTimeout(s),s=setTimeout(l,_)});h.observe(document.body,{childList:!0,subtree:!0});setTimeout(l,1e3);function C(t){n&&n.remove(),n=document.createElement("div"),n.id="resumeos-badge",n.innerHTML=`
    <div class="ros-badge-icon">\u2726</div>
    <div class="ros-badge-text">
      <strong>ResumeOS</strong>
      <span>${t.title} at ${t.company||"this company"} detected</span>
    </div>
    <button class="ros-badge-close" aria-label="Dismiss">\xD7</button>
  `,document.body.appendChild(n),requestAnimationFrame(()=>{requestAnimationFrame(()=>{n.classList.add("ros-badge-visible")})}),n.addEventListener("click",o=>{if(o.target.classList.contains("ros-badge-close")){r();return}chrome.runtime.sendMessage({action:"OPEN_SIDE_PANEL"}),r()}),setTimeout(r,8e3)}function r(){n&&(n.classList.remove("ros-badge-visible"),setTimeout(()=>{n?.remove(),n=null},300))}})();
